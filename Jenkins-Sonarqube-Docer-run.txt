Create dir for Jenkins. Create it in NFS folder. 
    mkdir -p /opt/docker/jenkins
    sudo chmod -R 777 /opt/docker/jenkins
    cd /opt/

Mark all docker hosts as a worker
    docker node update --label-add type=worker host02
    docker node update --label-add type=worker host03
    docker node update --label-add type=worker host01

Command for start Jenkins in a docker swarm
    docker service create --name jenkins \
        -p 8080:8080 \
        -p 50000:50000 \
        --constraint 'node.labels.type == worker' \
        -e JENKINS_OPTS="--prefix=/jenkins" \
        -e JAVA_OPTS="-Djenkins.install.runSetupWizard=false" \
        --mount "type=bind,source=/opt/docker/jenkins,target=/var/jenkins_home" \
        --reserve-memory 300m \
        jenkins:2.7.4-alpine

Install sonarqube for testing code

    docker service create --name sonarqube \
        -p 9000:9000 \
        -p 9092:9092 \
        --constraint 'node.labels.type == worker' \
        sonarqube